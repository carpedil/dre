import{s as we,f as u,a as I,l as H,g as f,h as w,u as le,c as S,m as j,d as h,j as r,i as Y,v as l,C as re,n as B,z as ae,D as ge,o as Ee}from"../chunks/scheduler.aa2ef5b9.js";import{e as se}from"../chunks/each.e59479a4.js";import{S as xe,i as Te}from"../chunks/index.11beda0a.js";import{E as ke}from"../chunks/ExportToExcel.ebc8f526.js";import{h as De}from"../chunks/apimessage.aa0364f9.js";import{u as Ce}from"../chunks/stores.369d9d6c.js";function _e(t,e,s){const a=t.slice();return a[10]=e[s],a[12]=s,a}function pe(t,e,s){const a=t.slice();return a[13]=e[s],a}function ye(t){let e,s="there is no inused api found";return{c(){e=u("td"),e.textContent=s,this.h()},l(a){e=f(a,"TD",{colspan:!0,class:!0,"data-svelte-h":!0}),le(e)!=="svelte-14vnuxs"&&(e.textContent=s),this.h()},h(){r(e,"colspan","8"),r(e,"class","bg-white p-2 text-center")},m(a,n){Y(a,e,n)},p:ae,d(a){a&&h(e)}}}function Ie(t){let e,s,a=se(t[10].nested_amtrecs_summary),n=[];for(let c=0;c<a.length;c+=1)n[c]=me(pe(t,a,c));return{c(){e=u("td"),s=u("div");for(let c=0;c<n.length;c+=1)n[c].c();this.h()},l(c){e=f(c,"TD",{colspan:!0,class:!0});var b=w(e);s=f(b,"DIV",{class:!0});var o=w(s);for(let g=0;g<n.length;g+=1)n[g].l(o);o.forEach(h),b.forEach(h),this.h()},h(){r(s,"class","flex p-1 max-h-[45vh] flex-wrap overflow-y-scroll bg-white"),r(e,"colspan","8"),r(e,"class","bg-white p-0")},m(c,b){Y(c,e,b),l(e,s);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(s,null)},p(c,b){if(b&17){a=se(c[10].nested_amtrecs_summary);let o;for(o=0;o<a.length;o+=1){const g=pe(c,a,o);n[o]?n[o].p(g,b):(n[o]=me(g),n[o].c(),n[o].m(s,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=a.length}},d(c){c&&h(e),ge(n,c)}}}function me(t){let e,s,a,n,c=t[13].api_name+"",b,o,g,k,E,x,P=t[13].count+"",v,p,D,F="total",N,i,m=t[13].passed+"",C,_,T,O="passed",U,L,A=t[13].failed+"",$,K,q,J="failed",G,Q,X;function Z(){return t[7](t[13])}return{c(){e=u("div"),s=u("a"),a=u("div"),n=u("div"),b=H(c),o=I(),g=u("hr"),k=I(),E=u("div"),x=u("div"),v=H(P),p=I(),D=u("span"),D.textContent=F,N=I(),i=u("div"),C=H(m),_=I(),T=u("span"),T.textContent=O,U=I(),L=u("div"),$=H(A),K=I(),q=u("span"),q.textContent=J,this.h()},l(R){e=f(R,"DIV",{class:!0});var M=w(e);s=f(M,"A",{href:!0,class:!0,id:!0});var ee=w(s);a=f(ee,"DIV",{class:!0});var W=w(a);n=f(W,"DIV",{class:!0});var te=w(n);b=j(te,c),te.forEach(h),o=S(W),g=f(W,"HR",{}),k=S(W),E=f(W,"DIV",{class:!0});var z=w(E);x=f(z,"DIV",{class:!0});var V=w(x);v=j(V,P),p=S(V),D=f(V,"SPAN",{class:!0,"data-svelte-h":!0}),le(D)!=="svelte-fa83of"&&(D.textContent=F),V.forEach(h),N=S(z),i=f(z,"DIV",{class:!0});var y=w(i);C=j(y,m),_=S(y),T=f(y,"SPAN",{class:!0,"data-svelte-h":!0}),le(T)!=="svelte-a66r5r"&&(T.textContent=O),y.forEach(h),U=S(z),L=f(z,"DIV",{class:!0});var d=w(L);$=j(d,A),K=S(d),q=f(d,"SPAN",{class:!0,"data-svelte-h":!0}),le(q)!=="svelte-14pe88a"&&(q.textContent=J),d.forEach(h),z.forEach(h),W.forEach(h),ee.forEach(h),M.forEach(h),this.h()},h(){r(n,"class","text-xs text-blue-700"),r(D,"class","absolute top-0 text-xs text-left text-white p-2 bg-black rounded opacity-0 group-hover:opacity-100 -mt-8 ml-8 hidden group-hover:block"),r(x,"class","border rounded-md p-2 w-10 h-10 text-center text-blue-600 align-middle relative group"),r(T,"class","absolute top-0 text-xs text-left text-white p-2 bg-black rounded opacity-0 group-hover:opacity-100 -mt-8 ml-8 hidden group-hover:block"),r(i,"class","border rounded-md p-2 w-10 h-10 text-center text-green-600 align-middle relative group"),r(q,"class","absolute top-0 text-xs text-left text-white p-2 bg-black rounded opacity-0 group-hover:opacity-100 -mt-8 ml-8 hidden group-hover:block"),r(L,"class","border rounded-md p-2 w-10 h-10 text-center align-middle relative group"),r(E,"class","flex flex-row mt-2 justify-evenly items-center"),r(a,"class","w-[100%]"),r(s,"href","/test"),r(s,"class","w-full"),r(s,"id",G=t[13].id.toString()),r(e,"class","w-[11.5vw] h-[10vh] bg-slate-50 border m-2 flex flex-row justify-start p-1 hover:bg-green-100")},m(R,M){Y(R,e,M),l(e,s),l(s,a),l(a,n),l(n,b),l(a,o),l(a,g),l(a,k),l(a,E),l(E,x),l(x,v),l(x,p),l(x,D),l(E,N),l(E,i),l(i,C),l(i,_),l(i,T),l(E,U),l(E,L),l(L,$),l(L,K),l(L,q),Q||(X=re(s,"click",Z),Q=!0)},p(R,M){t=R,M&1&&c!==(c=t[13].api_name+"")&&B(b,c),M&1&&P!==(P=t[13].count+"")&&B(v,P),M&1&&m!==(m=t[13].passed+"")&&B(C,m),M&1&&A!==(A=t[13].failed+"")&&B($,A),M&1&&G!==(G=t[13].id.toString())&&r(s,"id",G)},d(R){R&&h(e),Q=!1,X()}}}function be(t){let e,s,a=t[10].srv_name+"",n,c,b,o=t[10].p1+"",g,k,E,x=t[10].p2+"",P,v,p,D=t[10].p3+"",F,N,i,m=t[10].total+"",C,_,T,O=t[10].inuse+"",U,L,A,$=t[10].deprecated+"",K,q,J,G=t[10].tested+"",Q,X,Z,R,M,ee;function W(){return t[6](t[12],t[10])}function te(y,d){return y[10].nested_amtrecs_summary.length!=0?Ie:ye}let z=te(t),V=z(t);return{c(){e=u("tr"),s=u("td"),n=H(a),c=I(),b=u("td"),g=H(o),k=I(),E=u("td"),P=H(x),v=I(),p=u("td"),F=H(D),N=I(),i=u("td"),C=H(m),_=I(),T=u("td"),U=H(O),L=I(),A=u("td"),K=H($),q=I(),J=u("td"),Q=H(G),Z=I(),R=u("tr"),V.c(),this.h()},l(y){e=f(y,"TR",{id:!0,class:!0});var d=w(e);s=f(d,"TD",{class:!0});var oe=w(s);n=j(oe,a),oe.forEach(h),c=S(d),b=f(d,"TD",{class:!0});var ne=w(b);g=j(ne,o),ne.forEach(h),k=S(d),E=f(d,"TD",{class:!0});var de=w(E);P=j(de,x),de.forEach(h),v=S(d),p=f(d,"TD",{class:!0});var ce=w(p);F=j(ce,D),ce.forEach(h),N=S(d),i=f(d,"TD",{class:!0});var ie=w(i);C=j(ie,m),ie.forEach(h),_=S(d),T=f(d,"TD",{class:!0});var he=w(T);U=j(he,O),he.forEach(h),L=S(d),A=f(d,"TD",{class:!0});var ue=w(A);K=j(ue,$),ue.forEach(h),q=S(d),J=f(d,"TD",{class:!0});var fe=w(J);Q=j(fe,G),fe.forEach(h),d.forEach(h),Z=S(y),R=f(y,"TR",{id:!0,class:!0});var ve=w(R);V.l(ve),ve.forEach(h),this.h()},h(){r(s,"class","border text-left pl-[7.5%]"),r(b,"class","border text-center"),r(E,"class","border text-center"),r(p,"class","border text-center"),r(i,"class","border text-center"),r(T,"class","border text-center"),r(A,"class","border text-center text-slate-500"),r(J,"class","border text-center"),r(e,"id",t[12].toString()),r(e,"class",X=(t[1]==t[12]?"bg-blue-400 text-white":"bg-white")+" hover:bg-blue-300 hover:text-white"),r(R,"id","nested-row-"+t[12]),r(R,"class","hidden w-[100vw]")},m(y,d){Y(y,e,d),l(e,s),l(s,n),l(e,c),l(e,b),l(b,g),l(e,k),l(e,E),l(E,P),l(e,v),l(e,p),l(p,F),l(e,N),l(e,i),l(i,C),l(e,_),l(e,T),l(T,U),l(e,L),l(e,A),l(A,K),l(e,q),l(e,J),l(J,Q),Y(y,Z,d),Y(y,R,d),V.m(R,null),M||(ee=re(e,"click",W),M=!0)},p(y,d){t=y,d&1&&a!==(a=t[10].srv_name+"")&&B(n,a),d&1&&o!==(o=t[10].p1+"")&&B(g,o),d&1&&x!==(x=t[10].p2+"")&&B(P,x),d&1&&D!==(D=t[10].p3+"")&&B(F,D),d&1&&m!==(m=t[10].total+"")&&B(C,m),d&1&&O!==(O=t[10].inuse+"")&&B(U,O),d&1&&$!==($=t[10].deprecated+"")&&B(K,$),d&1&&G!==(G=t[10].tested+"")&&B(Q,G),d&2&&X!==(X=(t[1]==t[12]?"bg-blue-400 text-white":"bg-white")+" hover:bg-blue-300 hover:text-white")&&r(e,"class",X),z===(z=te(t))&&V?V.p(t,d):(V.d(1),V=z(t),V&&(V.c(),V.m(R,null)))},d(y){y&&(h(e),h(Z),h(R)),V.d(),M=!1,ee()}}}function Se(t){let e,s,a,n='<th class="w-[9vw] text-center">SERVER NAME</th> <th class="w-[4vw] text-center">P1</th> <th class="w-[4vw] text-center">P2</th> <th class="w-[4vw] text-center">P3</th> <th class="w-[5vw] text-center">TOTAL</th> <th class="w-[6vw] text-center">INUSE</th> <th class="w-[6vw] text-center text-slate-400">DEPRECATED</th> <th class="w-[6vw] text-center">Test Cases</th>',c,b,o,g,k,E,x,P,v,p,D,F,N=se(t[0]),i=[];for(let m=0;m<N.length;m+=1)i[m]=be(_e(t,N,m));return{c(){e=u("div"),s=u("table"),a=u("tr"),a.innerHTML=n,c=I();for(let m=0;m<i.length;m+=1)i[m].c();b=I(),o=u("tfoot"),g=u("tr"),k=u("th"),E=H(`Total Test Cases
					`),x=u("input"),P=I(),v=u("td"),p=H(t[2]),this.h()},l(m){e=f(m,"DIV",{});var C=w(e);s=f(C,"TABLE",{class:!0});var _=w(s);a=f(_,"TR",{class:!0,"data-svelte-h":!0}),le(a)!=="svelte-1v92xr3"&&(a.innerHTML=n),c=S(_);for(let A=0;A<i.length;A+=1)i[A].l(_);b=S(_),o=f(_,"TFOOT",{});var T=w(o);g=f(T,"TR",{class:!0});var O=w(g);k=f(O,"TH",{class:!0,colspan:!0});var U=w(k);E=j(U,`Total Test Cases
					`),x=f(U,"INPUT",{type:!0,class:!0}),U.forEach(h),P=S(O),v=f(O,"TD",{class:!0});var L=w(v);p=j(L,t[2]),L.forEach(h),O.forEach(h),T.forEach(h),_.forEach(h),C.forEach(h),this.h()},h(){r(a,"class","bg-white text-left sticky top-10"),r(x,"type","button"),x.value="Download",r(x,"class","border bg-blue-500 pl-0.5 pr-0.5 text-white float-right rounded-md mr-2"),r(k,"class","border text-center"),r(k,"colspan","7"),r(v,"class","border text-center text-red-600"),r(g,"class","border border-collapse bg-white"),r(s,"class","w-full border border-separate text-xs")},m(m,C){Y(m,e,C),l(e,s),l(s,a),l(s,c);for(let _=0;_<i.length;_+=1)i[_]&&i[_].m(s,null);l(s,b),l(s,o),l(o,g),l(g,k),l(k,E),l(k,x),l(g,P),l(g,v),l(v,p),D||(F=re(x,"click",t[5]),D=!0)},p(m,[C]){if(C&27){N=se(m[0]);let _;for(_=0;_<N.length;_+=1){const T=_e(m,N,_);i[_]?i[_].p(T,C):(i[_]=be(T),i[_].c(),i[_].m(s,b))}for(;_<i.length;_+=1)i[_].d(1);i.length=N.length}C&4&&B(p,m[2])},i:ae,o:ae,d(m){m&&h(e),ge(i,m),D=!1,F()}}}function Re(t,e,s){let a=[],n,c,b=0;const o=async(v,p,D)=>{s(1,n=v),c=D,g(v)},g=v=>{const p=document.getElementById(`nested-row-${v}`);p!=null&&p.classList.contains("hidden")?p==null||p.classList.remove("hidden"):p==null||p.classList.add("hidden")},k=v=>{Ce(c,v)},E=()=>{console.log("download");let v=[];a.forEach(p=>{v=[...v,...p.test_cases_summary]}),ke(v,"ApiMessageTestRecordsSummary")};return Ee(async()=>{s(0,a=await De()),a.forEach(v=>{s(2,b+=v.tested)})}),[a,n,b,o,k,E,(v,p)=>o(v,p.srv_name,p.id),v=>k(v.id)]}class He extends xe{constructor(e){super(),Te(this,e,Re,Se,we,{})}}export{He as component};
